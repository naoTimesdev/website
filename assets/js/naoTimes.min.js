function rStatus(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))}function jsonify(e){return e.text()}function naoTimesProcess(e){console.log("Fetching naoTimes data"),fetch(`https://utang.naoti.me/${e}?pretty=true`).then(rStatus).then(jsonify).then(function(e){var t=new Date,a=function(e){var a=(1e3*e-t)/1e3,n=Math.floor(a/60),o=Math.floor(a/60/60),r=Math.floor(a/60/60/24);if(a<0)return!1;switch(r){case 0:return o>1?"Tayang dalam "+o+" jam":n>1?"Tayang dalam "+n+" menit":"Tayang dalam "+a+" detik";case 1:return"Tayang besok";default:return"Tayang dalam "+r+" hari"}},n=document.getElementById("naotimes"),o=document.getElementById("naotimes-loading"),r=JSON.parse(e);if(0==Object.keys(r).length){var i=document.createElement("h2");i.classList.add("naotimes-animetitle");var d=document.createTextNode("Tidak ada data utang");return i.appendChild(d),o.parentNode.removeChild(o),0}let s={};Object.keys(r).sort().reverse().forEach(function(e){s[e]=r[e]}),console.log("Parsing naoTimes data");for(let[e,t]of Object.entries(s)){i=document.createElement("h2");i.classList.add("naotimes-seasonal"),i.appendChild(document.createTextNode(t.name));let e=0,o=[];t.data.forEach(function(t){let n=t.title;var r=t.status,i=[],d=t.episode;for(let[e,t]of Object.entries(r))t||i.push(e);if(Array.isArray(i)&&i.length){i=i.join(" ");let r=a(t.airing_time);r&&(i=r);var s=document.createElement("h3");s.classList.add("naotimes-animetitle");var l=document.createElement("ul");l.classList.add("naotimes-animeprogress"),d.length<2&&(d="0"+d);var c=d+" @ "+i;l.appendChild(document.createTextNode(c)),s.appendChild(document.createTextNode(n)),o.push(s),o.push(l),e+=1}}),e>0&&(n.appendChild(i),o.forEach(function(e){n.appendChild(e)}))}o.parentNode.removeChild(o),console.log("Finished!")}).catch(function(e){var t=document.getElementById("naotimes-loading");console.log("Request failed",e);var a=document.createElement("h2");a.classList.add("naotimes-animetitle");var n=document.createTextNode("Tidak dapat megambil data utang.");a.appendChild(n),t.parentNode.removeChild(t)})}